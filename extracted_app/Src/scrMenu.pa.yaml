# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  scrMenu:
    Properties:
      Fill: =gblTheme.Background
      LoadingSpinnerColor: =gblTheme.Accent
      OnVisible: |-
        =Set(
            gblDevice,
            {
                Width: App.Width,
                Height: App.Height,
                IsPhone: App.Width < 768,
                IsTablet: App.Width >= 768 And App.Width < 1024,
                IsDesktop: App.Width >= 1024,
                Padding: If(App.Width < 768, 12, If(App.Width < 1024, 20, 36)),
                HeaderHeight: If(App.Width < 768, 56, If(App.Width < 1024, 72, 88)),
                ButtonHeight: If(App.Width < 768, 64, If(App.Width < 1024, 76, 90)),
                InputHeight: If(App.Width < 768, 44, 60),
                CardRadius: If(App.Width < 768, 6, 10),
                ButtonRadius: If(App.Width < 768, 6, 8),
                FontScale: If(App.Width < 768, 0.9, If(App.Width < 1024, 0.95, 1))
            }
        );
        // Reset navigation state
        Set(gblCurrentAuditStep, 1);
        UpdateContext({
            locMenuAnimationComplete: false,
            locButtonsVisible: false,
            locOpacity: 0
        });
        Timer1.Start;
    Children:
      - recBackground:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            DisabledFill: =RGBA(161, 159, 157, 1)
            Fill: =ColorFade(gblTheme.Primary, 0.95)
            FocusedBorderThickness: =4
            Height: =Parent.Height
            HoverFill: =
            PressedFill: =
            Width: =Parent.Width
      - Timer1:
          Control: Timer@2.1.0
          Properties:
            AutoPause: =false
            AutoStart: =true
            BorderColor: =RGBA(0, 120, 212, 1)
            BorderStyle: =BorderStyle.None
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =RGBA(242, 242, 241, 0)
            DisabledColor: =RGBA(161, 159, 157, 1)
            DisabledFill: =RGBA(242, 242, 241, 0)
            Duration: =500
            Fill: =RGBA(0, 120, 212, 1)
            Font: =Font.'Segoe UI'
            HoverBorderColor: =RGBA(16, 110, 190, 1)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =RGBA(16, 110, 190, 1)
            OnTimerEnd: |-
              =UpdateContext({
                  locMenuAnimationComplete: true,
                  locButtonsVisible: true,
                  locOpacity: 1
              });
              Reset(Timer1);
            PressedBorderColor: =RGBA(16, 110, 190, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(16, 110, 190, 1)
            Start: =true
            Visible: |+
              =false
            X: =gblDevice.Padding
            Y: =gblDevice.Padding
      - conHeader:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.Regular
            Height: =gblDevice.HeaderHeight + If(gblDevice.IsPhone, 24, 36)
            PaddingLeft: =gblDevice.Padding
            PaddingRight: =gblDevice.Padding
            PaddingTop: =If(gblDevice.IsPhone, 12, 20)
            Width: =Parent.Width
            Y: =If(locMenuAnimationComplete, 0, -Self.Height)
          Children:
            - recHeaderBg:
                Control: Rectangle@2.3.0
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =2
                  DisabledFill: =RGBA(161, 159, 157, 1)
                  Fill: =gblTheme.PrimaryDark
                  FocusedBorderThickness: =4
                  Height: =Parent.Height
                  HoverFill: =
                  PressedFill: =
                  Width: =Parent.Width
            - lblAppTitle:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =2
                  Color: =gblTheme.TextPrimary
                  DisabledBorderColor: =RGBA(0, 0, 0, 0)
                  DisabledColor: =RGBA(161, 159, 157, 1)
                  FocusedBorderThickness: =4
                  Font: =Font.'Open Sans Condensed'
                  FontWeight: =FontWeight.Bold
                  Size: =28 * gblDevice.FontScale
                  Text: ="Environmental Compliance Review"
                  Width: =Parent.Width - (gblDevice.Padding * 2)
                  X: =0
                  Y: =If(gblDevice.IsPhone, 18, 28)
            - CNOSeal:
                Control: Image@2.2.3
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =2
                  DisabledBorderColor: =RGBA(0, 0, 0, 0)
                  DisabledFill: =RGBA(0, 0, 0, 0)
                  FocusedBorderThickness: =4
                  Height: =If(gblDevice.IsPhone, 80, 112)
                  HoverBorderColor: =RGBA(0, 0, 0, 0)
                  HoverFill: =RGBA(0, 0, 0, 0)
                  Image: ='HeroImage_CH'
                  PressedBorderColor: =RGBA(0, 0, 0, 0)
                  PressedFill: =RGBA(0, 0, 0, 0)
                  Visible: =!gblDevice.IsPhone
                  Width: =Self.Height
                  X: =0
                  Y: =If(gblDevice.IsPhone, 6, 12)
            - Label3:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =2
                  Color: =ColorFade(gblTheme.TextPrimary, 0.8)
                  DisabledBorderColor: =RGBA(0, 0, 0, 0)
                  DisabledColor: =RGBA(161, 159, 157, 1)
                  FocusedBorderThickness: =4
                  Font: =Font.'Open Sans'
                  Size: =16 * gblDevice.FontScale
                  Text: ="Choctaw Nation Environmental Compliance"
                  Width: =Parent.Width - (gblDevice.Padding * 2)
                  X: =0
                  Y: =lblAppTitle.Y + lblAppTitle.Height + If(gblDevice.IsPhone, 6, 12)
      - conLogo:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.Semibold
            Fill: =gblTheme.Surface
            Height: =If(
                gblDevice.IsPhone,
                Min(Parent.Width - (gblDevice.Padding * 2), 360) * 0.7,
                340
            )
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Width: =Min(
                If(gblDevice.IsPhone, Parent.Width - (gblDevice.Padding * 2), 380),
                Parent.Width - (gblDevice.Padding * 2)
            )
            X: =(Parent.Width - Self.Width) / 2
            Y: =conHeader.Y + conHeader.Height + gblDevice.Padding
          Children:
            - imgLogo:
                Control: Image@2.2.3
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: |+
                    =5
                  DisabledBorderColor: =RGBA(0, 0, 0, 0)
                  DisabledFill: =RGBA(0, 0, 0, 0)
                  FocusedBorderThickness: =4
                  Height: =Parent.Height-20
                  HoverBorderColor: =RGBA(0, 0, 0, 0)
                  HoverFill: =RGBA(0, 0, 0, 0)
                  Image: ='Environmental Compliance'
                  PressedBorderColor: =RGBA(0, 0, 0, 0)
                  PressedFill: =RGBA(0, 0, 0, 0)
                  Width: =Parent.Width-20
                  X: =(Parent.Width - Self.Width) / 2
                  Y: =(Parent.Height - Self.Height) / 2
      - conFooter:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.Regular
            Height: =If(gblDevice.IsPhone, 48, 60)
            PaddingLeft: =gblDevice.Padding
            PaddingRight: =gblDevice.Padding
            Visible: =locMenuAnimationComplete
            Width: =Parent.Width
            Y: =Parent.Height - Self.Height
          Children:
            - lblVersion:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 0)
                  BorderStyle: =BorderStyle.None
                  BorderThickness: =2
                  Color: =gblTheme.TextTertiary
                  DisabledBorderColor: =RGBA(0, 0, 0, 0)
                  DisabledColor: =RGBA(161, 159, 157, 1)
                  FocusedBorderThickness: =4
                  Font: =Font.'Segoe UI'
                  Size: =If(gblDevice.IsPhone, 11, 12) * gblDevice.FontScale
                  Text: ="Version 2.0 | " & Text(Today(), "mmmm dd, yyyy")
                  Width: =Parent.Width - (gblDevice.Padding * 2)
                  X: =0
                  Y: =If(gblDevice.IsPhone, 12, 18)
      - conMenuButtons:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.None
            Height: =gblDevice.ButtonHeight * 5 + gblDevice.Padding * 4
            Width: =Parent.Width - (gblDevice.Padding * 2)
            X: =gblDevice.Padding
            Y: =conLogo.Y + conLogo.Height + gblDevice.Padding
          Children:
            - conBtnDesktopReview:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Height: =gblDevice.ButtonHeight
                  Width: =Parent.Width
                Children:
                  - btnDesktopReview:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =gblTheme.Border
                        Color: =gblTheme.Primary
                        Fill: =gblTheme.Surface
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =gblTheme.TextPrimary
                        HoverFill: =ColorFade(gblTheme.Primary, 0.4)
                        OnSelect: |-
                          =Set(gblAuditType, "Desktop Review");
                          Navigate(scrDesktopReview, ScreenTransition.Cover)
                        PressedColor: =gblTheme.TextPrimary
                        PressedFill: =gblTheme.Primary
                        RadiusBottomLeft: =gblDevice.ButtonRadius
                        RadiusBottomRight: =gblDevice.ButtonRadius
                        RadiusTopLeft: =gblDevice.ButtonRadius
                        RadiusTopRight: =gblDevice.ButtonRadius
                        Size: =If(gblDevice.IsPhone, 16, 18) * gblDevice.FontScale
                        Text: |-
                          ="📋 ECR Desktop Review"
                        Width: =Parent.Width
            - coBtnECR:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Height: =gblDevice.ButtonHeight
                  Width: =Parent.Width
                  Y: =conBtnDesktopReview.Y + conBtnDesktopReview.Height + gblDevice.Padding
                Children:
                  - btnECR:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =gblTheme.Border
                        Color: =gblTheme.Primary
                        Fill: =gblTheme.Surface
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =gblTheme.TextPrimary
                        HoverFill: =ColorFade(gblTheme.Primary, 0.4)
                        OnSelect: |-
                          =Set(gblAuditType, "ECR");
                          Navigate(scrSetup, ScreenTransition.Cover)
                        PressedColor: =gblTheme.TextPrimary
                        PressedFill: =gblTheme.Primary
                        RadiusBottomLeft: =gblDevice.ButtonRadius
                        RadiusBottomRight: =gblDevice.ButtonRadius
                        RadiusTopLeft: =gblDevice.ButtonRadius
                        RadiusTopRight: =gblDevice.ButtonRadius
                        Size: =If(gblDevice.IsPhone, 16, 18) * gblDevice.FontScale
                        Text: |-
                          ="🏢 ECR - CNO Facilities"
                        Width: =Parent.Width
            - conBtnHousingECR:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Height: =gblDevice.ButtonHeight
                  Width: =Parent.Width
                  Y: =coBtnECR.Y + coBtnECR.Height + gblDevice.Padding
                Children:
                  - btnHousingECR:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =gblTheme.Border
                        Color: =gblTheme.Primary
                        Fill: =gblTheme.Surface
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: =gblTheme.TextPrimary
                        HoverFill: =ColorFade(gblTheme.Primary, 0.4)
                        OnSelect: |-
                          =Set(gblAuditType, "Housing ECR");
                          Navigate(scrSetup, ScreenTransition.Cover)
                        PressedColor: =gblTheme.TextPrimary
                        PressedFill: =gblTheme.Primary
                        RadiusBottomLeft: =gblDevice.ButtonRadius
                        RadiusBottomRight: =gblDevice.ButtonRadius
                        RadiusTopLeft: =gblDevice.ButtonRadius
                        RadiusTopRight: =gblDevice.ButtonRadius
                        Size: =If(gblDevice.IsPhone, 16, 18) * gblDevice.FontScale
                        Text: |-
                          ="🏘️ ECR - Housing"
                        Width: =Parent.Width
            - conBtnSPCC:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  DropShadow: =DropShadow.Regular
                  Height: =gblDevice.ButtonHeight
                  Width: =Parent.Width
                  Y: =conBtnHousingECR.Y + conBtnHousingECR.Height + gblDevice.Padding
                Children:
                  - btnSPCC:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =gblTheme.Border
                        Color: =gblTheme.TextTertiary
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =gblTheme.Surface
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        RadiusBottomLeft: =gblDevice.ButtonRadius
                        RadiusBottomRight: =gblDevice.ButtonRadius
                        RadiusTopLeft: =gblDevice.ButtonRadius
                        RadiusTopRight: =gblDevice.ButtonRadius
                        Size: =If(gblDevice.IsPhone, 16, 18) * gblDevice.FontScale
                        Text: ="⛽ SPCC / Tank Inspection (Coming Soon)"
                        Width: =Parent.Width
            - conBtnSWPPP:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  BorderColor: =gblTheme.Border
                  DropShadow: =DropShadow.Regular
                  Height: =gblDevice.ButtonHeight
                  Width: =Parent.Width
                  Y: =conBtnSPCC.Y + conBtnSPCC.Height + gblDevice.Padding
                Children:
                  - btnSWPPP:
                      Control: Classic/Button@2.2.0
                      Properties:
                        BorderColor: =gblTheme.Border
                        Color: =gblTheme.TextTertiary
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =gblTheme.Surface
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        RadiusBottomLeft: =gblDevice.ButtonRadius
                        RadiusBottomRight: =gblDevice.ButtonRadius
                        RadiusTopLeft: =gblDevice.ButtonRadius
                        RadiusTopRight: =gblDevice.ButtonRadius
                        Size: =If(gblDevice.IsPhone, 16, 18) * gblDevice.FontScale
                        Text: |-
                          ="💧 SWPPP Audit (Coming Soon)"
                        Width: =Parent.Width
